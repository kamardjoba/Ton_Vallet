# Исправление проблемы восстановления кошелька

## Проблема
При попытке восстановить кошелек по seed фразе возникала ошибка.

## Исправления

### 1. Изменен seed параметр для mnemonicToSeed
**Файл:** `src/blockchain/ton.ts`

**Было:**
```typescript
const seed = await mnemonicToSeed(words, 'TON default seed');
```

**Стало:**
```typescript
const seed = await mnemonicToSeed(words, '');
```

**Причина:** Большинство TON кошельков используют пустую строку `''` как seed параметр для стандартных кошельков. Это обеспечивает совместимость с другими TON кошельками (TON Wallet, Tonkeeper и т.д.).

### 2. Улучшена обработка ошибок
**Файл:** `src/utils/errors.ts`

Добавлена обработка ошибок связанных с восстановлением кошелька:
- Ошибки "Failed to generate wallet" теперь показывают понятное сообщение
- Ошибки связанные с seed фразой обрабатываются корректно

### 3. Улучшен UI компонента восстановления
**Файл:** `src/components/RestoreWallet.tsx`

- Добавлена анимация для сообщений об ошибках
- Ошибки теперь отображаются из store автоматически

## Как проверить

1. Введите seed фразу из другого TON кошелька (24 слова)
2. Введите новый пароль (минимум 8 символов)
3. Подтвердите пароль
4. Нажмите "Restore"

Если seed фраза корректна, кошелек должен восстановиться успешно.

## Возможные проблемы

### Проблема: "Unable to restore wallet from this seed phrase"
**Решение:** 
- Убедитесь, что все 24 слова введены правильно
- Проверьте, что нет лишних пробелов
- Убедитесь, что слова разделены одним пробелом

### Проблема: "Seed phrase must contain exactly 24 words"
**Решение:**
- Проверьте количество слов (должно быть 24)
- Убедитесь, что слова разделены пробелами
- Проверьте, что нет пустых слов

### Проблема: Кошелек восстанавливается, но адрес не совпадает
**Решение:**
- Это может означать, что seed фраза была создана с другим seed параметром
- Попробуйте использовать seed фразу из того же кошелька, где она была создана
- Если проблема сохраняется, возможно используется другой формат кошелька (не v4R2)

## Технические детали

### Формат кошелька
Приложение использует формат кошелька **v4R2**, который является стандартным для большинства TON кошельков.

### Seed параметр
- Пустая строка `''` - стандарт для большинства TON кошельков
- `'TON default seed'` - используется некоторыми старыми кошельками
- Если восстановление не работает с пустой строкой, можно попробовать другие варианты

### Валидация
- Seed фраза должна содержать ровно 24 слова
- Слова должны быть из BIP39 словаря
- Пароль должен быть минимум 8 символов и содержать буквы и цифры
